{% extends 'base.html' %}

{% load bootstrap3 %}

{% load django_bootstrap_breadcrumbs %}

{% block breadcrumbs %}
    {{ block.super }}
    {% breadcrumb "Projects" "ids_projects:projects-list" %}
    {% breadcrumb "Project" "" %}
{% endblock %}

{% block title %}Projects{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-xs-12">
            {% render_breadcrumbs 'django_bootstrap_breadcrumbs/bootstrap3.html' %}
        </div>
        <!-- Left Column - Project Basic Info -->
        <div class="col-xs-10 col-xs-offset-1 col-sm-offset-0 col-sm-5">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h1 class="panel-title">Project</h1>
                </div>
                <div class="panel-body">
                    <p><img class="img-responsive" src="/static/images/img2.jpg"></p>
                    <p><b>Project Name: </b> {{ project.title }}</p>
                    <p><b>Investigation Type: </b> {{ project.investigation_type }}</p>
                    <p><b>Description: </b> {{ project.description }}</p>
                    <div class="row">
                        <div class="col-xs-3">
                            <a href="/project/{{project.uuid}}/edit" class="btn btn-primary">Edit Project</a>
                        </div>
                        <div class="col-xs-3 col-xs-offset-4 col-sm-offset-3 col-md-offset-4">
                            <a href="/project/{{project.uuid}}/delete" class="btn btn-danger">Delete Project</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-6">
                    <h4>Specimens: {{ specimen_count }}</h4>
                </div>
                <div class="col-xs-3 col-xs-offset-2">
                    <a href="/project/{{project.uuid}}/edit" class="btn btn-primary">Add </a>
                </div>
            </div><hr>
            <div class="row">
                <div class="col-xs-6">
                    <h4>Processes: {{ process_count }}</h4>
                </div>
                <div class="col-xs-3 col-xs-offset-2">
                    <a href="/project/{{project.uuid}}/edit" class="btn btn-primary">Add </a>
                </div>
            </div><hr>
            <div class="row">
                <div class="col-xs-6">
                    <h4>Files: {{ file_count }}</h4>
                </div>
                <div class="col-xs-3 col-xs-offset-2">
                    <a href="/project/{{project.uuid}}/edit" class="btn btn-primary">Add </a>
                </div>
            </div><hr>

        </div>
        <!-- Middle/Right Column - Project Basic Info -->
        <div class="col-xs-10 col-xs-offset-1 col-sm-offset-0 col-sm-7">

            <!-- <div class="panel-body"> -->
            {% if not project.specimens %}
            <div class="object-header darker">
                <div>
                    No Specimens yet.
                    <a href="/project/{{project.uuid}}/specimen" class="btn btn-primary btn-sm pull-right fix-me">Add</a>
                </div>
            </div>
            {% else %}
            <div class="object-header darker">
                <div>
                    Specimens
                    <a href="/project/{{project.uuid}}/specimen" class="btn btn-primary btn-sm pull-right fix-me">Add</a>
                </div>
            </div>
            {% for specimen in project.specimens %}

            <div class="object-header">
                <a href="/specimen/{{specimen.uuid}}" class="header-link">{{ specimen.taxon_name }} {{ specimen.specimen_id }}</a>
            </div>

            <div>
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Taxon Name</b>
                    </div>
                    <div class="col-xs-6">
                        {{ specimen.taxon_name }}
                    </div>
                </div>
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Specimen ID</b>
                    </div>
                    <div class="col-xs-6">
                        {{ specimen.specimen_id }}
                    </div>
                </div>
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Organ/Tissue</b>
                    </div>
                    <div class="col-xs-6">
                        {{ specimen.organ_or_tissue }}
                    </div>
                </div>
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Developmental Stage</b>
                    </div>
                    <div class="col-xs-6">
                        {{ specimen.developmental_stage }}
                    </div>
                </div>
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Haploid Chromosone Count</b>
                    </div>
                    <div class="col-xs-6">
                        {{ specimen.haploid_chromosome_count }}
                    </div>
                </div>
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Ploidy</b>
                    </div>
                    <div class="col-xs-6">
                        {{ specimen.ploidy }}
                    </div>
                </div>
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Propagation</b>
                    </div>
                    <div class="col-xs-6">
                        {{ specimen.propagation }}
                    </div>
                </div>
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Estimated Genome Size</b>
                    </div>
                    <div class="col-xs-6">
                        {{ specimen.estimated_genome_size }}
                    </div>
                </div>

                {% if not specimen.processes %}
                <div class="object-header darker">
                    <div>
                        No processes for {{ specimen.taxon_name }} {{ specimen.specimen_id }}
                        <a href="/specimen/{{specimen.uuid}}/process" class="btn btn-primary btn-sm pull-right fix-me">Add</a>
                    </div>
                </div>
                {% else %}
                <div class="object-header darker">
                    <div>
                        Processes for {{ specimen.taxon_name }} {{ specimen.specimen_id }}
                        <a href="/specimen/{{specimen.uuid}}/process" class="btn btn-primary btn-sm pull-right fix-me">Add</a>
                    </div>
                </div>
                {% for process in specimen.processes %}

                <div class="object-header">
                    <a href="/process/{{process.uuid}}" class="header-link">{{ process.process_type }}</a>
                </div>

                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Process Type</b>
                    </div>
                    <div class="col-xs-6">
                        {{ process.process_type }}
                    </div>
                </div>
                {% if process.sequence_method %}
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Sequence Method</b>
                    </div>
                    <div class="col-xs-6">
                        {{ process.sequence_method }}
                    </div>
                </div>
                {% endif %}
                {% if process.sequence_hardware %}
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Sequence Hardware</b>
                    </div>
                    <div class="col-xs-6">
                        {{ process.sequence_hardware }}
                    </div>
                </div>
                {% endif %}
                {% if process.assembly_method %}
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Assembly Method</b>
                    </div>
                    <div class="col-xs-6">
                        {{ process.assembly_method }}
                    </div>
                </div>
                {% endif %}
                {% if process.reference_sequence %}
                <div class="row info-item">
                    <div class="col-xs-6">
                        <b>Reference Sequence</b>
                    </div>
                    <div class="col-xs-6">
                        {{ process.reference_sequence }}
                    </div>
                </div>
                {% endif %}

                <!-- <div class="panel panel-default">
                    <div class="panel-heading">
                        <h1 class="panel-title"> Process {{ process.process_type }}</h1>
                    </div>

                    <div class="panel-body">

                        {{ process }}

                        {% if not process.files %}
                        <div class="ids-header">
                            <p>No files for {{ process.process_type }}</p>
                        </div>

                        {% else %}

                        <div class="row">
                            <div class="col-xs-3">
                                <b>Name</b>
                            </div>
                            <div class="col-xs-3">
                                <b>Size</b>
                            </div>
                            <div class="col-xs-3">
                                <b>Modified</b>
                            </div>
                        </div>

                        {% for file in process.files %}
                        <div class="row">
                            <div class="col-xs-3">
                                <b>{{ file.name }}</b>
                            </div>
                            <div class="col-xs-3">
                                {{ file.length }}
                            </div>
                            <div class="col-xs-3">
                                {{ file.last_modified }}
                            </div>
                            <div class="col-xs-2">
                                <p><a href="/data/delete/{{file.uuid}}/" class="btn btn-danger">Remove</a></p>
                            </div>
                        </div>
                        {% endfor %}
                        {% endif %}
                    </div>
                </div> -->
                {% endfor %}
                {% endif %}


                <!-- <div class="panel panel-default">
                    <div class="panel-heading">
                        <h1 class="panel-title">Data</h1>
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-xs-3">
                                <b>Name</b>
                            </div>
                            <div class="col-xs-3">
                                <b>Size</b>
                            </div>
                            <div class="col-xs-3">
                                <b>Modified</b>
                            </div>
                        </div>
                        {% for file in specimen.data %}
                        <div class="row">
                            <div class="col-xs-3">
                                <b>{{ file.name }}</b>
                            </div>
                            <div class="col-xs-3">
                                {{ file.length }}
                            </div>
                            <div class="col-xs-3">
                                {{ file.last_modified }}
                            </div>
                            <div class="col-xs-2">
                                <p><a href="/data/delete/{{file.uuid}}/" class="btn btn-danger">Remove</a></p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-4">
                        <p><a href="/specimens/{{specimen.uuid}}/add-data/" class="btn btn-primary">Add Data</a></p>
                    </div>
                    <div class="col-xs-2">
                        <p><a href="/specimens/edit/{{specimen.uuid}}/" class="btn btn-primary">Edit</a></p>
                    </div>
                    <div class="col-xs-2">
                        <p><a href="/specimens/delete/{{specimen.uuid}}/" class="btn btn-danger">Delete Specimen</a></p>
                    </div>
                </div>
            </div> -->

            {% endfor %}
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
